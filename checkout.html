<!DOCTYPE html>
<html>
<head>
<title>KLYRO Checkout</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

<style>
body{background:#0b0b0b;color:white;font-family:Arial;text-align:center}
.box{max-width:400px;margin:auto;background:#111;padding:20px;border-radius:12px}
button{padding:10px 20px;border:none;border-radius:20px;font-weight:bold}
input{padding:8px;width:90%}
</style>
</head>

<body>

<h1>Checkout</h1>

<div class="box">

<div id="items"></div>
<br>
<b>Total: $<span id="total">0</span></b>

<br><br>

<input id="email" placeholder="Receipt Email">

<br><br>

<button onclick="buy()">Confirm Purchase</button>

</div>

<script>

// ðŸ”´ PUT YOUR EMAILJS PUBLIC KEY HERE
emailjs.init("PASTE_PUBLIC_KEY");

// Prices
const prices={
 "PFP Pack":5,
 "Wallpaper":3,
 "Creator Bundle":10
};

// Load cart
const cart=JSON.parse(localStorage.getItem("cart")||"[]");

let sum=0;

items.innerHTML=cart.map(i=>{
 sum+=prices[i];
 return i+" - $"+prices[i];
}).join("<br>");

total.innerText=sum;

function buy(){

 if(!email.value) return alert("Enter email");

 emailjs.send("PASTE_SERVICE_ID","template_7hoecnn",{
   to_email: email.value,
   items: cart.join(", "),
   total: sum
 });

 alert("Purchase complete! Receipt sent.");

 localStorage.removeItem("cart");
 location.href="index.html";
}

</script>

</body>
</html>
