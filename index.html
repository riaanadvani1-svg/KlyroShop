<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>KLYRO Store</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{margin:0;background:#0b0b0b;color:white;font-family:Arial}
nav{display:flex;gap:10px;padding:10px;background:#111;align-items:center}
input{padding:6px;border-radius:6px;border:none}
button{padding:6px 12px;border:none;border-radius:10px;cursor:pointer}
.products{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;padding:20px}
.card{background:#111;padding:10px;border-radius:10px;text-align:center}
.cart{position:fixed;top:10px;right:10px;background:white;color:black;padding:8px 14px;border-radius:20px}
</style>
</head>

<body>

<div class="cart">ðŸ›’ <span id="count">0</span></div>

<nav>
<input id="email" placeholder="email">
<input id="password" type="password" placeholder="password">
<button onclick="signup()">Sign Up</button>
<button onclick="login()">Login</button>
<span id="user"></span>
<button onclick="checkout()">Checkout</button>
</nav>

<section class="products">

<div class="card">
<h3>PFP Pack</h3>
<p>$5</p>
<button onclick="add('PFP Pack')">Add</button>
</div>

<div class="card">
<h3>Wallpaper</h3>
<p>$3</p>
<button onclick="add('Wallpaper')">Add</button>
</div>

<div class="card">
<h3>Creator Bundle</h3>
<p>$10</p>
<button onclick="add('Creator Bundle')">Add</button>
</div>

</section>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.2.0/firebase-app.js";
import { getAuth,createUserWithEmailAndPassword,signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.2.0/firebase-auth.js";

const firebaseConfig = {
 apiKey: "AIzaSyCgR9puzHe3VHKBJ21JnZEMpAtIPyV2_NA",
 authDomain: "klyrostore.firebaseapp.com",
 projectId: "klyrostore",
 appId: "1:119902117751:web:862c872a5911e796f44b72"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

let cart=[];
let userEmail="";

window.add=function(item){
 cart.push(item);
 count.innerText=cart.length;
 localStorage.setItem("cart",JSON.stringify(cart));
}

window.checkout=function(){
 if(cart.length==0) return alert("Cart empty");
 location.href="checkout.html";
}

window.signup=function(){
 createUserWithEmailAndPassword(auth,email.value,password.value)
 .then(r=>{
 user.textContent=r.user.email;
 userEmail=r.user.email;
 alert("Account created");
 })
 .catch(e=>alert(e.message));
}

window.login=function(){
 signInWithEmailAndPassword(auth,email.value,password.value)
 .then(r=>{
 user.textContent=r.user.email;
 userEmail=r.user.email;
 alert("Logged in");
 })
 .catch(e=>alert(e.message));
}

</script>

</body>
</html>
